{"version":3,"file":"static/js/7766.b64e0532.chunk.js","mappings":"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","sources":["redux/actions/feedbackActions.js","views/feedback/Feedback.js","../node_modules/@coreui/icons/src/free/cil-trash.ts"],"sourcesContent":["import { toast } from 'react-toastify'\nimport requests from 'src/helpers/requests'\n\nexport const postDeleteFeedback = (id) => (dispatch) => {\n  dispatch({ type: 'post_delete_feedback_start', payload: id })\n\n  requests\n    .postDeleteFeedback(id)\n    .then(({ data }) => {\n      dispatch({ type: 'post_delete_feedback_success', payload: data })\n      toast.success('Успешно удалено')\n    })\n    .catch(({ response }) => {\n      dispatch({ type: 'post_delete_feedback_error', payload: response })\n    })\n}\n\nexport const getDetailFeedback = (id) => (dispatch) => {\n  dispatch({ type: 'fetch_detail_feedback_start', payload: id })\n\n  requests\n    .getDetailFeedback(id)\n    .then(({ data }) => {\n      dispatch({ type: 'fetch_detail_feedback_success', payload: data })\n    })\n    .catch(({ response }) => {\n      dispatch({ type: 'fetch_detail_feedback_error', payload: response })\n    })\n}\n\nexport const getFeedback = (params) => (dispatch) => {\n  dispatch({ type: 'fetch_feedback_start', payload: params })\n\n  requests\n    .getFeedback(params)\n    .then(({ data }) => {\n      dispatch({ type: 'fetch_feedback_success', payload: data })\n    })\n    .catch(({ response }) => {\n      dispatch({ type: 'fetch_feedback_error', payload: response })\n    })\n}\n","import { cilPencil, cilTrash } from '@coreui/icons'\nimport CIcon from '@coreui/icons-react'\nimport { CButton } from '@coreui/react'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, NavLink, useLocation, useNavigate } from 'react-router-dom'\nimport { getFeedback, postDeleteFeedback } from 'src/redux/actions/feedbackActions'\n\nconst Feedback = () => {\n  const dispatch = useDispatch()\n  const location = useLocation()\n  const { search } = location\n  const metaNumber = search ? parseInt(search?.match(/\\d+/)[0]) : 1\n  const feedbacks = useSelector((state) => state.feedback.feedback)\n  const _meta = useSelector((state) => state.feedback.pagination)\n  const [pagination, setPagination] = useState({\n    page: metaNumber,\n    limit: 12,\n  })\n  useEffect(() => {\n    let newPagination = {\n      ...pagination,\n      page: metaNumber,\n    }\n    setPagination(newPagination)\n    dispatch(getFeedback(newPagination))\n  }, [metaNumber])\n  const [pageNumbers, setPageNumbers] = useState([...Array(_meta?.pageCount)])\n  useEffect(() => {\n    setPageNumbers([...Array(_meta?.pageCount)])\n  }, [_meta])\n  const lastPage = pageNumbers?.length\n\n  return (\n    <div className=\"card mb-4\">\n      <div className=\"card-header d-flex flex-wrap align-items-center\">Обратная связь</div>\n      <div className=\"card-body\">\n        <table className=\"table table-hover table-striped\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Пользователь</th>\n              <th scope=\"col\">Телефон</th>\n              <th scope=\"col\">Комментария</th>\n              <th scope=\"col\">Дата</th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {feedbacks?.map((item, idx) => (\n              <tr key={idx}>\n                <td>\n                  {' '}\n                  <Link to={`/feedback/${item?._id}`} className=\"table-link\"></Link> {item?.name}\n                </td>\n                <td>{item?.phone}</td>\n                <td>{item?.description}</td>\n                <td>{item?.date?.split(',')[0]}</td>\n                <td className=\"table-icons-block\">\n                  <div className=\"table-icons\">\n                    <CButton\n                      onClick={() => dispatch(postDeleteFeedback(item?._id))}\n                      color=\"danger\"\n                      className=\"text-white\"\n                    >\n                      <CIcon icon={cilTrash} />\n                    </CButton>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        <nav aria-label=\"...\" className=\"pt-4\">\n          <ul className=\"pagination mt-4\">\n            <li className={`page-item ${pagination.page <= 1 ? 'disabled' : ''}`}>\n              <Link\n                to={`?page=${pagination.page > 1 && pagination.page - 1}`}\n                className=\"page-link\"\n              >\n                Previous\n              </Link>\n            </li>\n            {pageNumbers?.map((item, idx) => (\n              <li key={idx} className={`page-item ${idx + 1 === pagination.page ? 'active' : ''}`}>\n                <Link to={`?page=${idx + 1}`} className=\"page-link\">\n                  {idx + 1}\n                </Link>\n              </li>\n            ))}\n            <li className={`page-item ${pagination.page === lastPage ? 'disabled' : ''}`}>\n              <Link\n                to={`?page=${pagination.page !== lastPage && pagination.page + 1}`}\n                className=\"page-link\"\n              >\n                Next\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  )\n}\n\nexport default Feedback\n","export var cilTrash = [\"512 512\", \"<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>\"];\n"],"names":["postDeleteFeedback","id","dispatch","type","payload","requests","then","_ref","data","toast","success","catch","_ref2","response","getDetailFeedback","_ref3","_ref4","getFeedback","params","_ref5","_ref6","Feedback","useDispatch","location","useLocation","search","metaNumber","parseInt","match","feedbacks","useSelector","state","feedback","_meta","pagination","setPagination","useState","page","limit","useEffect","newPagination","pageNumbers","setPageNumbers","Array","pageCount","lastPage","length","_jsxs","className","children","_jsx","scope","map","item","idx","_item$date","Link","to","concat","_id","name","phone","description","date","split","CButton","onClick","color","CIcon","icon","cilTrash"],"sourceRoot":""}